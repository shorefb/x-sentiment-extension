(()=>{let e=new Map;chrome.runtime.onMessage.addListener(((t,s,r)=>{"UPDATE_SENTIMENT"===t.type?(t.sentiments.forEach((({text:t,sentiment:s})=>{e.has(t)||e.set(t,s)})),chrome.runtime.sendMessage({type:"SENTIMENT_UPDATED",sentiments:Array.from(e.entries())}),r({received:!0})):"REQUEST_SENTIMENT"===t.type?r({sentiments:Array.from(e.entries())}):"RESET_SENTIMENTS"===t.type&&(e.clear(),chrome.runtime.sendMessage({type:"SENTIMENTS_RESET"}),r({received:!0}))}))})();